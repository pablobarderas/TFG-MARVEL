{% extends 'base.html' %} {% block content %}

<nav class="navbar bg-gradient">
  <div class="container-fluid justify-content-start bg-opacity-100">
    <a class="btn me-2 btn-outline-danger" href="#comics" >Comics</a>
    <a class="btn me-2 btn-outline-danger" href="#events">Eventos</a>
    <a class="btn me-2 btn-outline-danger" href="#series">Series</a>
    <a class="btn me-2 btn-outline-danger" href="#stories">Stories</a>
  </div>
</nav>

  {% for attribute in character %}
  <!-- CHARACTER WITH IMAGE AND DESCRIPTION -->
<section class="row featurette" id="character_info">
    <div class="col-md-7">
      <h2 class="featurette-heading alig" style="margin-bottom: 40px;text-align: center;font-family: 'Lucida Sans', 'Lucida Sans Regular', 
      'Lucida Grande', 'Lucida Sans Unicode', Geneva, Verdana, sans-serif; font-weight: bold;">{{attribute.name}}</h2>
      <hr>
      <p class="lead" style="text-align: left; font-size: 28px;margin-left: 20px;">{{attribute.description}}</p>
    </div>
    <div class="col-md-5 d-flex justify-content-end">
      <img src="{{attribute.thumbnail.path}}.jpg" class="bd-placeholder-img bd-placeholder-img-lg featurette-image img-fluid mx-auto" width="400"
        height="400" xmlns="http://www.w3.org/2000/svg" aria-label="Character"
        preserveAspectRatio="xMidYMid slice" role="img" focusable="false" style="margin-top: 40px; border:5px solid white; border-radius: 30px;">
        <title>Character</title>
        <rect width="100%" height="100%" fill="#eee" /><text x="50%" y="50%" fill="#aaa" dy=".3em"></text>
    </img>
</section>

  <!-- COMICS OF CHARACTER -->

  <section id="comics" class="container marketing">
    <h2 class="featurette-heading alig" style="margin-bottom: 40px;text-align: center;font-family: 'Gill Sans', 'Gill Sans MT', Calibri,
     'Trebuchet MS', sans-serif;">Comics de {{attribute.name}}</h2>
     <ul>
        <li class="link">Comics disponibles: {{total_comics_results}} | Total pages: {{total_comics_pages}}</li>
     </ul>
     <div id="per" class="row row-cols-1 row-cols-sm-2 row-cols-md-3 g-3">
      {% for comics in comics_attribute %}
        {% for comics_attribute in comics %}
          <div class="col">
            <div class="d-flex flex-column h-100" style="border: 2px solid white">
              <div class="row g-0">
                <div class="col-md-4">
                  <img src="{{comics_attribute.thumbnail.path}}.jpg" class="card-img-top" alt="Personaje">
                </div>
                <div class="col-md-8">
                  <div>
                    <h4>{{comics_attribute.title}}</h4>
                    <p><a class="btn btn-outline-danger" href="{% url 'comic' %}?comic_id={{ comics_attribute.id }}" role="button">View details &raquo;</a></p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        {% endfor %}
      {% endfor %}


    <!--COMICS PAGINATOR-->
<nav aria-label="comics paginator" class="m-3">
  <ul class="pagination bg-dark">
    
    <!-- PREVIOUS PAGE -->
    {% if comic_page > 1 %}
      <li class="page-item">
        <a class="page-link bg-dark" href="?character_id={{ character_id }}&comic_page={{ comic_page|add:-1 }}&event_page={{ event_page }}&serie_page={{ serie_page }}&story_page={{ story_page }}#comics">Previous</a>
      </li>
    {% endif %}

    {% if comic_page <= comic_page|add:5 %}
    {% for page in comic_pages_range %}
      {% if page >= comic_page and page <= comic_page|add:4 %}
        <li class="page-item">
          {% if page == comic_page %}
            <a class="page-link active" href="?character_id={{ character_id }}&comic_page={{ page }}&event_page={{ event_page }}&serie_page={{ serie_page }}&story_page={{ story_page }}#comics">{{ page }}</a>
            {% else %}
            <a class="page-link bg-dark" href="?character_id={{ character_id }}&comic_page={{ page }}&event_page={{ event_page }}&serie_page={{ serie_page }}&story_page={{ story_page }}#comics">{{ page }}</a>
          {% endif %}
        </li>
      {% endif %}
    {% endfor %}
  {% endif %}
  

     <!-- NEXT PAGE -->
     {% if comic_page < total_comics_pages %}
     {% if total_comics_results >= 5 %}
       <li class="page-item">
         <a class="page-link bg-dark" href="?character_id={{ character_id }}&comic_page={{ comic_page|add:1 }}&event_page={{ event_page }}&serie_page={{ serie_page }}&story_page={{ story_page }}#comics">Next</a>
       </li>
     {% endif %}
     {% endif %}
     <li>Actual page: {{comic_page}} Total pages: {{total_comics_pages}}</li>
  </ul>
</nav>
  </section>

  <!--EVENTS-->
  <section id="events" class="m-3">
    <div class="bg-gradient">
      <h3>Events</h3>
      <ul>
        <li class="link">Eventos disponibles: {{total_events_results}} | Total pages: {{total_events_pages}}</li>
  
        <div class="row row-cols-2 row-cols-md-6 g-6">
          <div class="row">
        {% for events in events_attribute %}
          {% for events_attribute in events %}
  
              <!--EACH EVENT-->
              <div class="card">
                <img src="{{events_attribute.thumbnail.path}}.jpg" class="card-img-top" alt="...">
                <div class="card-body">
                  <h5 class="card-title">
                    <a class="link-danger" href="{% url 'event' %}?event_id={{ events_attribute.id }}">{{events_attribute.title}}</a>
                  </h5>
                  <p class="card-text">{{events_attribute.description}}</p>
                </div>
              </div>
  
            {% endfor %}
          {% endfor %}
  
            </div>
        </div>
  
      </ul>
    </div>

       <!--EVENTS PAGINATOR-->
<nav aria-label="events paginator" class="m-3">
  <ul class="pagination bg-dark">
    
    <!-- PREVIOUS PAGE -->
    {% if event_page > 1 %}
      <li class="page-item">
        <a class="page-link bg-dark" href="?character_id={{ character_id }}&comic_page={{ comic_page }}&event_page={{ event_page|add:-1 }}&serie_page={{ serie_page }}&story_page={{ story_page }}#events">Previous</a>
      </li>
    {% endif %}

    {% if event_page <= event_page|add:5 %}
    {% for page in event_pages_range %}
      {% if page >= event_page and page <= event_page|add:4 %}
        <li class="page-item">
          {% if page == event_page %}
            <a class="page-link active" href="?character_id={{ character_id }}&comic_page={{ comic_page }}&event_page={{ page }}&serie_page={{ serie_page }}&story_page={{ story_page }}#events">{{ page }}</a>
            {% else %}
            <a class="page-link bg-dark" href="?character_id={{ character_id }}&comic_page={{ comic_page }}&event_page={{ page }}&serie_page={{ serie_page }}&story_page={{ story_page }}#events">{{ page }}</a>
          {% endif %}
        </li>
      {% endif %}
    {% endfor %}
  {% endif %}
  

     <!-- NEXT PAGE -->
     {% if event_page < total_events_pages %}
     {% if total_events_results >= 5 %}
       <li class="page-item">
         <a class="page-link bg-dark" href="?character_id={{ character_id }}&comic_page={{ comic_page }}&event_page={{ event_page|add:1 }}&serie_page={{ serie_page }}&story_page={{ story_page }}#events">Next</a>
       </li>
     {% endif %}
     {% endif %}
     <li>Actual page: {{event_page}} Total pages: {{total_events_pages}}</li>
  </ul>
</nav>
  </section>


  <!--SERIES-->
  <section id="series" class="m-3">
    <div class="bg-gradient">
      <h3>Series</h3>
      <ul>
        <li class="link">Series disponibles: {{total_series_results}} | Total pages: {{total_series_pages}}</li>
        <li class="link">{{attribute.series}}</li>
  
        <div class="row row-cols-2 row-cols-md-6 g-6">
          <div class="col">
        {% for series in series_attribute %}
          {% for series_attribute in series %}
  
              <!--EACH SERIE-->
              <div class="card">
                {% if series_attribute.thumbnail.path %}
                <img src="{{series_attribute.thumbnail.path}}.jpg" class="card-img-top" alt="...">
                {% endif %}
                <div class="card-body">
                  <h5 class="card-title">
                    <a class="link-danger" href="{% url 'serie' %}?serie_id={{ series_attribute.id }}">{{series_attribute.title}}</a>
                  </h5>
                  <p class="card-text">{{series_attribute.description}}</p>
                </div>
              </div>
  
            {% endfor %}
          {% endfor %}
  
            </div>
        </div>
  
      </ul>
    </div>
      <!-- SERIES PAGINATOR-->
  <nav aria-label="series paginator" class="m-3">
    <ul class="pagination bg-dark">
      
      <!-- PREVIOUS PAGE -->
      {% if serie_page > 1 %}
        <li class="page-item">
          <a class="page-link bg-dark" href="?character_id={{ character_id }}&comic_page={{ comic_page }}&event_page={{ event_page }}&serie_page={{ serie_page|add:-1 }}&story_page={{ story_page }}#series">Previous</a>
        </li>
      {% endif %}
  
      {% if serie_page <= serie_page|add:5 %}
      {% for page in serie_pages_range %}
        {% if page >= serie_page and page <= serie_page|add:4 %}
          <li class="page-item">
            {% if page == serie_page %}
              <a class="page-link active" href="?character_id={{ character_id }}&comic_page={{ comic_page }}&event_page={{ event_page }}&serie_page={{ page }}&story_page={{ story_page }}#series">{{ page }}</a>
              {% else %}
              <a class="page-link bg-dark" href="?character_id={{ character_id }}&comic_page={{ comic_page }}&event_page={{ event_page }}&serie_page={{ page }}&story_page={{ story_page }}#series">{{ page }}</a>
            {% endif %}
          </li>
        {% endif %}
      {% endfor %}
    {% endif %}
    
  
       <!-- NEXT PAGE -->
       {% if serie_page < total_series_pages %}
       {% if total_series_results >= 5 %}
         <li class="page-item">
           <a class="page-link bg-dark" href="?character_id={{ character_id }}&comic_page={{ comic_page }}&event_page={{ event_page }}&serie_page={{ serie_page|add:1 }}&story_page={{ story_page }}#series">Next</a>
         </li>
       {% endif %}
       {% endif %}
       <li>Actual page: {{serie_page}} Total pages: {{total_series_pages}}</li>
    </ul>
  </nav>
    </section>
  
    <section id="stories" class="m-3">
    <div class="bg-gradient" class="m-3">
      <h3>Stories</h3>
      <ul class="m-3">
        <li class="link">Stories disponibles: {{total_stories_results}} | Total pages: {{total_stories_pages}}</li>
        <li class="link">{{attribute.stories}}</li>
  
        <div class="row row-cols-2 row-cols-md-6 g-6">
          <div class="col">
        {% for stories in stories_attribute %}
          {% for stories_attribute in stories %}
  
              <!--EACH STORY-->
              <div class="card">
                {% if stories_attribute.thumbnail.path %}
                <img src="{{stories_attribute.thumbnail.path}}.jpg" class="card-img-top" alt="...">
                {% endif %}
                <div class="card-body">
                  <h5 class="card-title">
                    <a class="link-danger" href="{% url 'story' %}?story_id={{ stories_attribute.id }}">{{stories_attribute.title}}</a>
                  </h5>
                  <p class="card-text">{{stories_attribute.description}}</p>
                </div>
              </div>
  
            {% endfor %}
          {% endfor %}
  
            </div>
        </div>
  
      </ul>
    </div>
  </section>
  {% endfor %}
{% endblock %}
